{"id":"zed-supercollider-75x","title":"Distribution \u0026 Installability","description":"Installable extension without repo checkout. Deterministic launcher/quark discovery (Option A: require Quarks install), packaged tasks, clean metadata, user-facing INSTALL + troubleshooting, release smoke. Launcher channel: cargo install primary (GH releases secondary).","design":"## Plan\n\n### Extension Packaging\n- Ship runnables-backed tasks inside the extension (or tiny installer to ~/.config/zed/tasks.json) so no per-project .zed.\n- Clean metadata (repo URL, authorship, versioning) and keep tree-sitter wasm only; dev artifacts stay dev-only.\n\n### Launcher Distribution\n- Primary channel: cargo install; secondary: GitHub release binaries.\n- Discovery: settings.path \u003e PATH \u003e dev fallback (repo-only). Add --mode probe health check + slash-command help.\n\n### LanguageServer.quark Strategy\n- Lock Option A: require users to install LanguageServer via Quarks. Remove mixed-mode heuristics; document as prerequisite.\n\n### Tasks/Runnables UX\n- Ensure runnables tags map to packaged tasks; expose eval/boot/stop keypaths; single Post Window task tied to SC_TMP_DIR/TMPDIR.\n\n### Documentation\n- INSTALL.md: prerequisites (SC app, Quarks install), launcher install, settings snippet, troubleshoot.\n- DEV.md: hacking on repo, vendored quark, dev launcher fallback.\n\n### Release/Verification\n- Smoke: launcher probe, LSP init, HTTP eval 202, packaged tasks work without .zed/, extension bundle clean of dev artifacts.\n\n## Open Decisions\n1. Cargo install UX vs release binaries: finalize install string + platform coverage.\n2. Packaged tasks via runnables vs tiny installer fallback—confirm Zed packaging supports embedded tasks.\n3. Versioning/publish cadence for extension + launcher and how to surface in docs.","notes":"## Principles\n- Keep extension self-contained (grammar wasm, queries, snippets/keymaps, runnables, packaged tasks) with no per-project .zed dependence.\n- Treat launcher + quark as external deps discoverable via PATH or settings; preserve dev ergonomics without leaking dev defaults.\n- Prefer deterministic discovery and actionable logging over heuristics.\n\n## Open Decisions\n1) Cargo install UX vs release binaries: finalize command and platform coverage.\n2) Packaged tasks via runnables vs tiny installer fallback; confirm Zed packaging supports embedded tasks.\n3) Versioning/publish cadence for extension + launcher and how to surface in docs.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T02:40:12.735596-08:00","created_by":"morgan","updated_at":"2026-01-07T04:18:24.417334-08:00","dependencies":[{"issue_id":"zed-supercollider-75x","depends_on_id":"zed-supercollider-m78.4","type":"blocks","created_at":"2026-01-07T04:04:51.892895-08:00","created_by":"morgan"},{"issue_id":"zed-supercollider-75x","depends_on_id":"zed-supercollider-m78.5","type":"blocks","created_at":"2026-01-07T04:04:52.094639-08:00","created_by":"morgan"},{"issue_id":"zed-supercollider-75x","depends_on_id":"zed-supercollider-m78.6","type":"blocks","created_at":"2026-01-07T04:04:52.293854-08:00","created_by":"morgan"},{"issue_id":"zed-supercollider-75x","depends_on_id":"zed-supercollider-m78.7","type":"blocks","created_at":"2026-01-07T04:04:52.490271-08:00","created_by":"morgan"},{"issue_id":"zed-supercollider-75x","depends_on_id":"zed-supercollider-m78.1","type":"blocks","created_at":"2026-01-07T04:14:34.51388-08:00","created_by":"morgan"},{"issue_id":"zed-supercollider-75x","depends_on_id":"zed-supercollider-m78.15","type":"blocks","created_at":"2026-01-07T04:14:48.295275-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-75x.1","title":"Quark distribution: require Quarks install","description":"Lock Option A. Remove vendored quark exclusion logic from launcher. Document in INSTALL.md as prerequisite.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T04:02:53.022256-08:00","created_by":"morgan","updated_at":"2026-01-07T04:15:00.65651-08:00","dependencies":[{"issue_id":"zed-supercollider-75x.1","depends_on_id":"zed-supercollider-75x","type":"parent-child","created_at":"2026-01-07T04:02:53.022845-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-75x.2","title":"Launcher distribution: cargo install","description":"Prep Cargo.toml for crates.io publish. Add --version and --help flags. Secondary: GitHub release binaries.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T04:02:53.259639-08:00","created_by":"morgan","updated_at":"2026-01-07T04:15:12.992841-08:00","dependencies":[{"issue_id":"zed-supercollider-75x.2","depends_on_id":"zed-supercollider-75x","type":"parent-child","created_at":"2026-01-07T04:02:53.260222-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-75x.3","title":"Packaged tasks/runnables","description":"Bundle tasks into extension via runnables. Verify works without .zed/tasks.json. Single Post Window task tied to SC_TMP_DIR.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T04:02:53.509423-08:00","created_by":"morgan","updated_at":"2026-01-07T04:15:25.06515-08:00","dependencies":[{"issue_id":"zed-supercollider-75x.3","depends_on_id":"zed-supercollider-75x","type":"parent-child","created_at":"2026-01-07T04:02:53.510018-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-75x.4","title":"Extension metadata hygiene","description":"Fix extension.toml (repo URL, version, authorship). Ship only tree-sitter wasm. Remove committed build artifacts from repo.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T04:02:53.747285-08:00","created_by":"morgan","updated_at":"2026-01-07T04:15:37.492003-08:00","dependencies":[{"issue_id":"zed-supercollider-75x.4","depends_on_id":"zed-supercollider-75x","type":"parent-child","created_at":"2026-01-07T04:02:53.747883-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-75x.5","title":"Docs: INSTALL vs DEV split","description":"INSTALL.md: prerequisites, install steps, verify, troubleshoot. DEV.md: building from source, testing, contributing.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T04:02:53.985571-08:00","created_by":"morgan","updated_at":"2026-01-07T04:15:51.397959-08:00","dependencies":[{"issue_id":"zed-supercollider-75x.5","depends_on_id":"zed-supercollider-75x","type":"parent-child","created_at":"2026-01-07T04:02:53.986156-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-75x.6","title":"Release smoke test","description":"CI or manual checklist: sc_launcher --mode probe, LSP init, HTTP eval returns 202, packaged tasks fire without .zed/.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T04:02:54.227162-08:00","created_by":"morgan","updated_at":"2026-01-07T04:16:03.828378-08:00","dependencies":[{"issue_id":"zed-supercollider-75x.6","depends_on_id":"zed-supercollider-75x","type":"parent-child","created_at":"2026-01-07T04:02:54.227744-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-ebn","title":"Project workflow setup and task alignment","description":"Session work: evaluated bd tasks against distribution goal, restructured task hierarchy, added tooling.\n\n## Done\n- Analyzed existing tasks vs project goals (distribution as north star)\n- Converted 75x to Distribution epic with 6 children (quark, launcher, tasks, metadata, docs, smoke test)\n- Refined m78.5/m78.6/m78.7 descriptions for distribution readiness\n- Demoted m78.2/m78.3 to P1 (working, not blocking)\n- Created m78.15 (references crash fix)\n- Added dependencies: 75x blocked by m78.4/5/6/7\n- Fixed bd doctor issues (daemon, migration, export)\n- Created git workflow slash commands (/commit, /wip, /sync, /status)\n\n## Result\nClear path: finish m78 P0s → 75x distribution children → ship extension","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T04:26:27.030247-08:00","created_by":"morgan","updated_at":"2026-01-07T04:26:35.942151-08:00","closed_at":"2026-01-07T04:26:35.942151-08:00","close_reason":"Session complete: tasks restructured, tooling added, ready to execute"}
{"id":"zed-supercollider-gek","title":"Add git workflow slash commands","description":"Created /commit, /wip, /sync, /status commands in .claude/commands/ for streamlined git workflow. /commit auto-syncs bd before committing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T04:25:43.944096-08:00","created_by":"morgan","updated_at":"2026-01-07T04:25:52.956361-08:00","closed_at":"2026-01-07T04:25:52.956361-08:00","close_reason":"Implemented: /commit, /wip, /sync, /status in .claude/commands/"}
{"id":"zed-supercollider-lm4","title":"LSP Debugging and Status","description":"Debugging LSP in Zed SuperCollider extension. Hover, go-to-definition, and references now working.","notes":"## Final Status\n- Hover: working (returns symbol + first block comment from class file)\n- Go-to-definition: working\n- References: working for user classes (SinOscFB); built-ins may open class docs but sometimes errors if the installed quark is stale\n- Outline: empty because Zed is not sending textDocument/documentSymbol\n\n## Gotchas\n- Installed quark may be stale. If references keep failing or show \"Non Boolean in test\", ensure the installed LanguageServer copy matches the repo (server/quark/LanguageServer.quark/Providers/FindReferencesProvider.sc). User prefers we do NOT overwrite their installed quark ever.\n- Zed outline won't work until the client sends textDocument/documentSymbol; nothing on server side yet.\n- Keep config.toml minimal (see anti-patterns in .ai/context.md).\n\n## Logs\nSee /tmp/sclang_post.log for REFS DEBUG lines; errors \"Non Boolean in test\" indicate the references provider fallback logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T02:39:30.061054-08:00","created_by":"morgan","updated_at":"2026-01-07T03:33:37.457224-08:00","closed_at":"2026-01-07T02:39:41.892877-08:00","close_reason":"Closed"}
{"id":"zed-supercollider-m78","title":"Execution Plan – Stability \u0026 Delivery","description":"Ship stable extension with accurate capabilities and reliable eval/control before distribution. Phase 1 blockers: capability hygiene, logging defaults, tasks/PIDs decision, dev launcher selection, packaging/meta hygiene, references crash fix. Phase 2 polish: init/shutdown, eval transport hardening, buffered flush, response normalization, structured logging, async eval docs. Later: perf/maint (LRU, UDP constants, startup timing).","notes":"## Validation Checklist\n- Initialize response aligns with capabilities; no serverStatus; dev binary selection doesn't throw ENOENT\n- Eval/control tasks return real HTTP status; kill task (if kept) targets only tracked PIDs\n- scripts/validate-config.sh + launcher tests pass in CI stub\n- Shutdown closes stdin, sends LSP shutdown/exit, and leaves no orphaned sclang/sc_launcher\n- README/setup match logging defaults and eval semantics\n\n## Guardrails\n- config.toml stays minimal (no opt_into_language_servers/scope_opt_in_language_servers)\n- SC dict funcs never use ^; init classvars in *initClass; handle nil dict keys\n- Do not overwrite user-installed quark without consent; test vendored copy first\n- HTTP eval is fire-and-forget; results land in Post Window/logs, not inline\n\n## Scope\nLauncher (server/launcher/src/main.rs), extension (src/lib.rs), quark (server/quark/LanguageServer.quark), language config/tasks (languages/SuperCollider, .zed/tasks.json, scripts), docs/CI guardrails.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T02:38:34.96952-08:00","created_by":"morgan","updated_at":"2026-01-07T04:16:34.236216-08:00"}
{"id":"zed-supercollider-m78.1","title":"Capability hygiene","description":"Drop serverStatus; advertise only working providers (definition/references/completion/hover/executeCommand)","status":"in_progress","priority":0,"issue_type":"task","created_at":"2026-01-07T02:38:48.325709-08:00","created_by":"morgan","updated_at":"2026-01-07T02:49:43.865546-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.1","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T02:38:48.326388-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.10","title":"Structured logging","description":"Structured logging gated by env; separate user-facing post log from debug logs.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T03:34:45.245651-08:00","created_by":"morgan","updated_at":"2026-01-07T03:34:45.245651-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.10","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:45.246239-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.11","title":"Document async eval","description":"Document async eval semantics and loopback/CORS expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T03:34:47.179004-08:00","created_by":"morgan","updated_at":"2026-01-07T03:34:47.179004-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.11","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:47.181121-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.12","title":"LRU cache for defs/refs","description":"Small LRU cache for defs/refs with invalidation; light hit/miss metrics.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T03:35:01.585492-08:00","created_by":"morgan","updated_at":"2026-01-07T03:35:01.585492-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.12","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:35:01.586109-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.13","title":"Centralize UDP constants","description":"Centralize UDP constants; use serde/lsp-types to cut JSON churn.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T03:35:03.869313-08:00","created_by":"morgan","updated_at":"2026-01-07T03:35:03.869313-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.13","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:35:03.871383-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.14","title":"Measure startup","description":"Measure startup and replace sleeps with readiness signals; add tiny benches for navigation latency.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T03:35:06.680955-08:00","created_by":"morgan","updated_at":"2026-01-07T03:35:06.680955-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.14","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:35:06.681647-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.15","title":"References crash fix","description":"Fix 'Non Boolean in test' crash in FindReferencesProvider.sc. Coerce includeDeclaration parameter to boolean.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-07T04:03:31.420625-08:00","created_by":"morgan","updated_at":"2026-01-07T04:03:31.420625-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.15","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T04:03:31.421251-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.2","title":"Init/shutdown handling","description":"Clean stdin-close handling; buffer until ready, then flush and shut down without orphaning or global kills","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T02:38:50.267236-08:00","created_by":"morgan","updated_at":"2026-01-07T04:03:17.549466-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.2","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T02:38:50.267844-08:00","created_by":"morgan"},{"issue_id":"zed-supercollider-m78.2","depends_on_id":"zed-supercollider-m78.1","type":"blocks","created_at":"2026-01-07T02:47:23.503284-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.3","title":"Eval/control transport","description":"Enforce UDP-safe size (chunk or 413), surface UDP failures as 4xx/5xx; keep HTTP localhost-only","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T02:38:51.804227-08:00","created_by":"morgan","updated_at":"2026-01-07T04:03:17.752643-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.3","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T02:38:51.804816-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.4","title":"Logging defaults","description":"Default quiet; opt-in debug logs under TMP; stop forcing debug env vars","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-07T02:38:55.348116-08:00","created_by":"morgan","updated_at":"2026-01-07T02:38:55.348116-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.4","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T02:38:55.348744-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.5","title":"Tasks/PIDs","description":"Either emit pid metadata from launcher for cleanup OR remove global kill task. Inline curl tasks with status output. Tasks must work without .zed/tasks.json.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-07T03:34:15.715827-08:00","created_by":"morgan","updated_at":"2026-01-07T04:03:05.431442-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.5","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:15.716465-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.6","title":"Dev launcher selection","description":"Deterministic discovery: settings.path \u003e PATH \u003e dev binary (only if present). Silent when dev binary missing - log info not error. No ENOENT noise for end users.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-07T03:34:17.535404-08:00","created_by":"morgan","updated_at":"2026-01-07T04:03:05.630463-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.6","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:17.537972-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.7","title":"Packaging/tests/meta","description":"Remove committed build artifacts. Fix extension.toml metadata (repo, version, author). Add validate-config.sh + minimal launcher tests. CI stub runs probe/init/eval.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-07T03:34:19.695792-08:00","created_by":"morgan","updated_at":"2026-01-07T04:03:17.353797-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.7","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:19.696415-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.8","title":"Flush buffered responses","description":"Flush buffered UDP/LSP responses on shutdown; log phases/timing.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T03:34:40.537837-08:00","created_by":"morgan","updated_at":"2026-01-07T03:34:40.537837-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.8","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:40.538514-08:00","created_by":"morgan"}]}
{"id":"zed-supercollider-m78.9","title":"Normalize responses","description":"Normalize responses (null/empty), prefer LocationLink, dedupe initialize responses.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T03:34:43.570861-08:00","created_by":"morgan","updated_at":"2026-01-07T03:34:43.570861-08:00","dependencies":[{"issue_id":"zed-supercollider-m78.9","depends_on_id":"zed-supercollider-m78","type":"parent-child","created_at":"2026-01-07T03:34:43.573053-08:00","created_by":"morgan"}]}
